import numpy as np

c1 = {}
c2 = {}
qw = qx = qy = qz = x = y = z = 0.


# ------------------------改动区域----------------------------------------------
cam_num = 1
yaml_num = 1

c1['qw'] = [0.035939704309634564, 0.02383782356941807, 0.1741914899663461]
c1['qx'] = [-0.05979474979180313, -0.0445499391679695, -0.38817245066169287]
c1['qy'] = [0.8399441608186378, 0.840311689758471, 0.8165518413474961]
c1['qz'] = [-0.5381697987235498, -0.5397437587808371, -0.33472779015727866]
c1['x'] = [-0.22037375437811133, -0.1827926279854247, -0.2687896024508472]
c1['y'] = [0.21474330127874308, 0.2395012650112968, -0.2687896024508472]
c1['z'] = [0.43844371601506144, 0.43944570196770055, 0.4979044150317358]

c2['qw'] = [0.3623197907236873, 0.3668284844666865, 0.30808077638957865]
c2['qx'] = [-0.9307820697377235, -0.9294518861438904, -0.9443249079917779]
c2['qy'] = [-0.03542801100253696, -0.028620808337131445, -0.10404568678694538]
c2['qz'] = [0.0333760983505747, 0.027145969453452875, 0.050111859140800415]
c2['x'] = [0.3057633024846408, 0.2771530867088101, 0.24353178980450604]
c2['y'] = [-1.2416273519862964, -1.2416451523496117, -1.1242118883033612]
c2['z'] = [0.6802743020261058, 0.6608611812767224, 0.6471588013669721]

# -------------------------------------------------------------

values = ['qw', 'qx', 'qy', 'qz', 'x', 'y', 'z']


for value_name in values:
    # exec(f"{value_name} = np.mean(c1['{value_name}'])")
    exec(f"{value_name} = c{cam_num}['{value_name}'][{yaml_num-1}]")

rot_matrix = 2.0 * np.array(
    [[0.5 - qy**2 - qz**2, qx * qy - qz * qw, qx * qz + qy * qw, x / 2.0],
     [qx * qy + qz * qw, 0.5 - qx**2 - qz**2, qy * qz - qx * qw, y / 2.0],
     [qx * qz - qy * qw, qy * qz + qx * qw, 0.5 - qx**2 - qy**2, z / 2.0],
     [0.0, 0.0, 0.0, 0.5]])
np.set_printoptions(suppress=True)
np.savetxt(f'tf_{cam_num}.txt', rot_matrix)
print(f"tf_{cam_num}:{rot_matrix}")
