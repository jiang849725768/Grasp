import numpy as np

c1 = {}
c2 = {}

c1['qw'] = [0.16808174461858078, 0.16964039458933963, 0.1741914899663461]
c1['qx'] = [-0.3872070266166519, -0.3826418292529256, -0.38817245066169287]
c1['qy'] = [0.8208055065398308, 0.8199848395893102, 0.8165518413474961]
c1['qz'] = [-0.3848344658402593, -0.39042570339725463, -0.33472779015727866]
c1['x'] = [-0.3203685617346051, -0.32306115396159757, -0.2687896024508472]
c1['y'] = [-0.2699817188888473, -0.26372969317138756, -0.2687896024508472]
c1['z'] = [0.4981190636256639, 0.49268829551837723, 0.4979044150317358]

c2['qw'] = [0.30527243079419014, 0.3097129334040531, 0.30808077638957865]
c2['qx'] = [-0.9450406975196091, -0.9442373353904141, -0.9443249079917779]
c2['qy'] = [-0.10618413706957072, -0.09764173575123508, -0.10404568678694538]
c2['qz'] = [0.04931279817093993, 0.05440445548439191, 0.050111859140800415]
c2['x'] = [0.24206816058820932, 0.2450332803295607, 0.24353178980450604]
c2['y'] = [-1.119142864458902, -1.1324343909355417, -1.1242118883033612]
c2['z'] = [0.6414213012228458, 0.6567175369800434, 0.6471588013669721]

values = ['qw', 'qx', 'qy', 'qz', 'x', 'y', 'z']

for value_name in values:
    exec(f"{value_name} = np.mean(c1['{value_name}'])")

rot_matrix = 2.0 * np.array(
    [[0.5 - qy**2 - qz**2, qx * qy - qz * qw, qx * qz + qy * qw, x / 2.0],
     [qx * qy + qz * qw, 0.5 - qx**2 - qz**2, qy * qz - qx * qw, y / 2.0],
     [qx * qz - qy * qw, qy * qz + qx * qw, 0.5 - qx**2 - qy**2, z / 2.0],
     [0.0, 0.0, 0.0, 0.5]])
np.set_printoptions(suppress=True)
np.savetxt('tf_1.txt', rot_matrix)
print(rot_matrix)

for value_name in values:
    exec(f"{value_name} = np.mean(c2['{value_name}'])")

rot_matrix = 2.0 * np.array(
    [[0.5 - qy**2 - qz**2, qx * qy - qz * qw, qx * qz + qy * qw, x / 2.0],
     [qx * qy + qz * qw, 0.5 - qx**2 - qz**2, qy * qz - qx * qw, y / 2.0],
     [qx * qz - qy * qw, qy * qz + qx * qw, 0.5 - qx**2 - qy**2, z / 2.0],
     [0.0, 0.0, 0.0, 0.5]])
np.set_printoptions(suppress=True)
np.savetxt('tf_2.txt', rot_matrix)
print(rot_matrix)
